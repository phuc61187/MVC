@model IEnumerable<MVC3.Models.KhachHang>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Danh sách khách hàng</h2>

<p>
    @Html.ActionLink("Thêm khách hàng mới", "ThemMoi")
</p>
<div id="indexGrid" style="width: 100%; height: 400px; overflow: hidden;"></div>
@*<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Code)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Ten)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Status)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(a => item.Code)
        </td>
        <td>
            @Html.DisplayFor(a => item.Ten)
        </td>
        <td>
            @Html.DisplayFor(a => item.Status)
        </td>
        <td>
            @Html.ActionLink("Sửa", "Edit", new { id=item.ID }) |
            @Html.ActionLink("Chi tiết", "Details", new { id=item.ID }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.ID })
        </td>
    </tr>
}

</table>*@

@Styles.Render("~/w2ui/css")
@Scripts.Render("~/w2ui/js")


    <script>
$(function () {

  $('#indexGrid').w2grid({
    name: 'indexGrid',
    header: 'List of order',
    show: {      // config grid toolbar, header and footer
      toolbar: true,
      header: true,
      footer: true,
      toolbarAdd: false,
      toolbarDelete: false,
      toolbarEdit: false
    },
    columns: [   // define grid columns
      { field: 'rec1', caption: 'ID', sortable: true, size: '20%' },
      { field: 'rec2', caption: 'Code', sortable: true, size: '15%', render: 'date' },
      { field: 'rec3', caption: 'Ten', sortable: true, size: '10%' },

    ],

    searches: [   // define search options
      { field: 'rec1', caption: 'ID', type: 'int' },
      { field: 'rec2', caption: 'Code', type: 'string' },
      { field: 'rec3', caption: 'Ten', type: 'string', },
    ],

    records: [    // define record items - from model send from controller
      @foreach (var item in Model)
      {
         //DateTime dStart = Convert.ToDateTime(@item.StartTime);
         //DateTime dEnd = Convert.ToDateTime(@item.EndTime);

         @: { recid: '@item.ID', rec1: '@item.Code', rec2: '@item.Ten',
         //rec3: '@dStart.ToString("HH:mm")', rec4: '@dEnd.ToString("HH:mm")',
              //rec5: '@d1 sec', status: '@item.Status' 
          }
      }
    ], // records

  });  // #indexGrid
});    // doc ready

    </script>
}
